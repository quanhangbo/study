<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>上传检测报告</title>
    <link rel="stylesheet" type="text/css" href="layui/css/layui.css"/>
</head>
<body>

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
    <legend>文件检测上传</legend>
</fieldset>

<div class="layui-upload">
    <div class="layui-btn-container">
        <button type="button" class="layui-btn" id="test1"><i class="layui-icon"></i>上传文件</button>
        <button type="button" class="layui-btn layui-btn-primary" id="test2"><i class="layui-icon"></i>只允许压缩文件</button>
        <button type="button" class="layui-btn" id="test3"><i class="layui-icon"></i>上传视频</button>
        <button type="button" class="layui-btn" id="test4"><i class="layui-icon"></i>上传音频</button>
    </div>
    <div style="width: 500px;  	margin-top: 20px">
        <div class="layui-progress layui-progress-big" lay-showpercent="yes" lay-filter="demo">
            <div class="layui-progress-bar" lay-percent=""></div>
        </div>
    </div>
</div>
<script src="layui/layui.js"></script>
<script>
    layui.use(['upload', 'element', 'layer'], function() {
        var $ = layui.jquery
            , upload = layui.upload
            , element = layui.element
            , layer = layui.layer;
        upload.render({
            elem: '#test1'
            , url: 'https://httpbin.org/post' //此处配置你自己的上传接口即可
            , accept: 'file' //普通文件
            , done: function (res) {
                layer.msg('上传成功');
                console.log(res);
            },progress: function(n, elem, e){
                element.progress('demo', n + '%'); //可配合 layui 进度条元素使用
                if(n == 100){
                    layer.msg('上传完毕', {icon: 1});
                }
            }
        });
        upload.render({ //允许上传的文件后缀
            elem: '#test2'
            , url: 'https://httpbin.org/post' //此处配置你自己的上传接口即可
            , accept: 'file' //普通文件
            ,size:1024*2
            , exts: 'zip|rar|7z' //只允许上传压缩文件
            , done: function (res) {
                layer.msg('上传成功');
                console.log(res)
            },progress: function(n, elem, e){
                element.progress('demo', n + '%'); //可配合 layui 进度条元素使用
                if(n == 100){
                    layer.msg('上传完毕', {icon: 1});
                }
            }
        });
        upload.render({
            elem: '#test3'
            , url: 'https://httpbin.org/post' //此处配置你自己的上传接口即可
            , accept: 'video' //视频
            ,size:1024*2
            , done: function (res) {
                layer.msg('上传成功');
                console.log(res)
            },progress: function(n, elem, e){
                element.progress('demo', n + '%'); //可配合 layui 进度条元素使用
                if(n == 100){
                    layer.msg('上传完毕', {icon: 1});
                }
            }
        });
        upload.render({
            elem: '#test4'
            , url: 'https://httpbin.org/post' //此处配置你自己的上传接口即可
            , accept: 'audio' //音频
            ,size:1024*2
            , done: function (res) {
                layer.msg('上传成功');
                console.log(res)
            },progress: function(n, elem, e){
                element.progress('demo', n + '%'); //可配合 layui 进度条元素使用
                if(n == 100){
                    layer.msg('上传完毕', {icon: 1});
                }
            }
        });
    });


</script>
</body>
</html>